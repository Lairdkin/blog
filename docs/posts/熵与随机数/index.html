<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>ç†µä¸éšæœºæ•° - èåœç‚–é±¼ä¸¸</title><meta name="Description" content=""><meta property="og:title" content="ç†µä¸éšæœºæ•°" />
<meta property="og:description" content="æ˜¨å¤©å†™Dockerfileé‚£ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå‘ä¸‹æˆ‘çš„é•œåƒä¸­javaæœ‰ä¸€ä¸ªå¯åŠ¨å‚æ•°-Djava.security.egd=file:/dev/./urandomï¼Œæˆ‘æŸ¥äº†å¯Ÿç›¸å…³èµ„æ–™ï¼Œå‘ç°äº†äº›æœ‰è¶£çš„äº‹æƒ… éšæœºæ•° å…³äºè¿™ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ä»éšæœºæ•°æ¥è¯´èµ· å­¦è¿‡ç¼–ç¨‹çš„åŒå­¦åº”è¯¥éƒ½æ¥è§¦è¿‡éšæœºæ•°è¿™ä¸ªæ¦‚å¿µï¼Œè™½ç„¶å«éšæœºï¼Œä½†æ˜¯å¤§å¤šæ•°éšæœºæ•°ç”Ÿæˆå®è´¨ä¸Šæ˜¯é€šè¿‡ä¸€å®šçš„é¢„å…ˆè®¾å®šçš„ç®—æ³•è®¡ç®—å‡ºæ¥çš„ï¼Œæ ¹æ®å¯†ç å­¦" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-05-28T01:56:47&#43;08:00" />
<meta property="article:modified_time" content="2018-05-28T01:56:47&#43;08:00" /><meta property="og:site_name" content="èåœç‚–é±¼ä¸¸" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ç†µä¸éšæœºæ•°"/>
<meta name="twitter:description" content="æ˜¨å¤©å†™Dockerfileé‚£ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå‘ä¸‹æˆ‘çš„é•œåƒä¸­javaæœ‰ä¸€ä¸ªå¯åŠ¨å‚æ•°-Djava.security.egd=file:/dev/./urandomï¼Œæˆ‘æŸ¥äº†å¯Ÿç›¸å…³èµ„æ–™ï¼Œå‘ç°äº†äº›æœ‰è¶£çš„äº‹æƒ… éšæœºæ•° å…³äºè¿™ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ä»éšæœºæ•°æ¥è¯´èµ· å­¦è¿‡ç¼–ç¨‹çš„åŒå­¦åº”è¯¥éƒ½æ¥è§¦è¿‡éšæœºæ•°è¿™ä¸ªæ¦‚å¿µï¼Œè™½ç„¶å«éšæœºï¼Œä½†æ˜¯å¤§å¤šæ•°éšæœºæ•°ç”Ÿæˆå®è´¨ä¸Šæ˜¯é€šè¿‡ä¸€å®šçš„é¢„å…ˆè®¾å®šçš„ç®—æ³•è®¡ç®—å‡ºæ¥çš„ï¼Œæ ¹æ®å¯†ç å­¦"/>
<meta name="application-name" content="RadishCloud">
<meta name="apple-mobile-web-app-title" content="RadishCloud"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/manifest.json"><link rel="canonical" href="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" /><link rel="next" href="https://radish.cloud/posts/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E8%AF%91jdk/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "ç†µä¸éšæœºæ•°",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/radish.cloud\/posts\/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0\/"
        },"genre": "posts","keywords": "Linux, å¯†ç å­¦","wordcount":  2008 ,
        "url": "https:\/\/radish.cloud\/posts\/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0\/","datePublished": "2018-05-28T01:56:47+08:00","dateModified": "2018-05-28T01:56:47+08:00","publisher": {
            "@type": "Organization",
            "name": "èåœç‚–é±¼ä¸¸"},"author": {
                "@type": "Person",
                "name": "èåœç‚–é±¼ä¸¸"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="èåœç‚–é±¼ä¸¸">èåœç‚–é±¼ä¸¸</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><a class="menu-item" href="/links/"> å‹æƒ…é“¾æ¥ </a><a class="menu-item" href="/about/"> å…³äº </a><a class="menu-item" href="https://github.com/Lairdkin/blog" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="é€‰æ‹©è¯­è¨€">ç®€ä½“ä¸­æ–‡<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" selected>ç®€ä½“ä¸­æ–‡</option></select>
                    </a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="èåœç‚–é±¼ä¸¸">èåœç‚–é±¼ä¸¸</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="">æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><a class="menu-item" href="/links/" title="">å‹æƒ…é“¾æ¥</a><a class="menu-item" href="/about/" title="">å…³äº</a><a class="menu-item" href="https://github.com/Lairdkin/blog" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="é€‰æ‹©è¯­è¨€">ç®€ä½“ä¸­æ–‡<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" selected>ç®€ä½“ä¸­æ–‡</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
    <h2 class="toc-title">ç›®å½•</h2>
    <div class="toc-content" id="toc-content-auto"></div>
</div><article class="page single"><h1 class="single-title animated flipInX">ç†µä¸éšæœºæ•°</h1><div class="post-meta">
        <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>èåœç‚–é±¼ä¸¸</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/%E6%9D%82%E8%B0%88/"><i class="far fa-folder fa-fw"></i>æ‚è°ˆ</a></span></div>
        <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2018-05-28">2018-05-28</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 2008 å­—&nbsp;
            <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ&nbsp;<span id="/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" class="leancloud_visitors" data-flag-title="ç†µä¸éšæœºæ•°">
                <i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span><span id="busuanzi_value_page_pv"></span>&nbsp;æ¬¡é˜…è¯»
            </span>&nbsp;
        </div>
    </div><div class="details toc" id="toc-static" kept="">
        <div class="details-summary toc-title">
            <span>ç›®å½•</span>
            <span><i class="details-icon fas fa-angle-right"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#éšæœºæ•°">éšæœºæ•°</a></li>
    <li><a href="#linuxä¸­çš„ç†µæ± ">Linuxä¸­çš„ç†µæ± </a></li>
  </ul>
</nav></div>
    </div><div class="content" id="content">
        <div class="details admonition tip open">
            <div class="details-summary admonition-title"><i class="icon fas fa-lightbulb fa-fw"></i>å‹æƒ…æç¤º<i
                    class="details-icon fas fa-angle-right fa-fw"></i></div>
            <div class="details-content">
                <div class="admonition-content">ğŸ“Œæç¤ºï¼šæƒ³è·å¾—ç¬¬ä¸€æ‰‹æ›´æ–°ï¼ŸåŠ å…¥<i class="fab fa-telegram-plane"></i> <a
                        href="https://t.me/radishkin_blog">Telegram é¢‘é“</a>è·å¾—åšå®¢æ›´æ–°æ¨é€ï¼Œæˆ–è€…ç‚¹å‡»é¡µé¢ <i class="fas fa-rss"></i>
                    æŒ‰é’®è®¢é˜…åšå®¢</div>
            </div>
        </div><p>æ˜¨å¤©å†™Dockerfileé‚£ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå‘ä¸‹æˆ‘çš„é•œåƒä¸­javaæœ‰ä¸€ä¸ªå¯åŠ¨å‚æ•°<code>-Djava.security.egd=file:/dev/./urandom</code>ï¼Œæˆ‘æŸ¥äº†å¯Ÿç›¸å…³èµ„æ–™ï¼Œå‘ç°äº†äº›æœ‰è¶£çš„äº‹æƒ…</p>
<h2 id="éšæœºæ•°">éšæœºæ•°</h2>
<p>å…³äºè¿™ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ä»éšæœºæ•°æ¥è¯´èµ·
å­¦è¿‡ç¼–ç¨‹çš„åŒå­¦åº”è¯¥éƒ½æ¥è§¦è¿‡éšæœºæ•°è¿™ä¸ªæ¦‚å¿µï¼Œè™½ç„¶å«éšæœºï¼Œä½†æ˜¯å¤§å¤šæ•°éšæœºæ•°ç”Ÿæˆå®è´¨ä¸Šæ˜¯é€šè¿‡ä¸€å®šçš„é¢„å…ˆè®¾å®šçš„ç®—æ³•è®¡ç®—å‡ºæ¥çš„ï¼Œæ ¹æ®å¯†ç å­¦çš„åŸç†ï¼Œéšæœºæ•°çš„éšæœºæ€§æ£€éªŒæœ‰ä¸‰ä¸ªæ ‡å‡†ï¼š</p>
<ol>
<li><strong>ç»Ÿè®¡å­¦ä¼ªéšæœºæ€§</strong>:ç»Ÿè®¡å­¦ä¼ªéšæœºæ€§æŒ‡çš„æ˜¯åœ¨ç»™å®šçš„éšæœºæ¯”ç‰¹æµæ ·æœ¬ä¸­ï¼Œ1çš„æ•°é‡å¤§è‡´ç­‰äº0çš„æ•°é‡ï¼ŒåŒç†ï¼Œâ€œ10â€â€œ01â€â€œ00â€â€œ11â€å››è€…æ•°é‡å¤§è‡´ç›¸ç­‰ã€‚ç±»ä¼¼çš„æ ‡å‡†è¢«ç§°ä¸ºç»Ÿè®¡å­¦éšæœºæ€§ã€‚æ»¡è¶³è¿™ç±»è¦æ±‚çš„æ•°å­—åœ¨äººç±»â€œä¸€çœ¼çœ‹ä¸Šå»â€æ˜¯éšæœºçš„ã€‚</li>
<li><strong>å¯†ç å­¦å®‰å…¨ä¼ªéšæœºæ€§</strong>: å…¶å®šä¹‰ä¸ºï¼Œç»™å®šéšæœºæ ·æœ¬çš„ä¸€éƒ¨åˆ†å’Œéšæœºç®—æ³•ï¼Œä¸èƒ½æœ‰æ•ˆçš„æ¼”ç®—å‡ºéšæœºæ ·æœ¬çš„å‰©ä½™éƒ¨åˆ†ã€‚</li>
<li><strong>çœŸéšæœºæ€§</strong>ï¼šå…¶å®šä¹‰ä¸ºéšæœºæ ·æœ¬ä¸å¯é‡ç°ã€‚å®é™…ä¸Šåªè¦ç»™å®šè¾¹ç•Œæ¡ä»¶ï¼ŒçœŸéšæœºæ•°å¹¶ä¸å­˜åœ¨ï¼Œå¯æ˜¯å¦‚æœäº§ç”Ÿä¸€ä¸ªçœŸéšæœºæ•°æ ·æœ¬çš„è¾¹ç•Œæ¡ä»¶ååˆ†å¤æ‚ä¸”éš¾ä»¥æ•æ‰ï¼ˆæ¯”å¦‚è®¡ç®—æœºå½“åœ°çš„æœ¬åº•è¾å°„æ³¢åŠ¨å€¼ï¼‰ï¼Œå¯ä»¥è®¤ä¸ºç”¨è¿™ä¸ªæ–¹æ³•æ¼”ç®—å‡ºæ¥äº†çœŸéšæœºæ•°</li>
</ol>
<p>ç›¸åº”çš„ï¼Œéšæœºæ•°ä¹Ÿåˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li><strong>ä¼ªéšæœºæ•°</strong>ï¼šæ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶çš„éšæœºæ•°ã€‚</li>
<li><strong>å¯†ç å­¦å®‰å…¨çš„ä¼ªéšæœºæ•°</strong>ï¼šåŒæ—¶æ»¡è¶³å‰ä¸¤ä¸ªæ¡ä»¶çš„éšæœºæ•°ã€‚å¯ä»¥é€šè¿‡å¯†ç å­¦å®‰å…¨ä¼ªéšæœºæ•°ç”Ÿæˆå™¨è®¡ç®—å¾—å‡ºã€‚</li>
<li><strong>çœŸéšæœºæ•°</strong>ï¼šåŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶çš„éšæœºæ•°ã€‚</li>
</ul>
<p>æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­æ‰€ç”Ÿæˆçš„éšæœºæ•°éƒ½æ˜¯ä¼ªéšæœºæ•°ï¼Œä¾‹å¦‚javaä¸­çš„<code>Random</code>ç±»ï¼Œå¯ä»¥ä½¿ç”¨æ—¶é—´æˆ³ä½œä¸ºéšæœºç§å­ï¼Œè¿™ç§éšæœºæ•°è¶³ä»¥æ»¡è¶³æˆ‘ä»¬å¤§å¤šæ•°å¯¹éšæœºæ•°ç”Ÿæˆçš„éœ€æ±‚ï¼Œä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šåœºåˆï¼Œä¾‹å¦‚åœ¨çº¿äº¤æ˜“ä¸­çš„idï¼ˆè¿™æ˜¯åŒºå—é“¾å®‰å…¨æ€§ä¸­çš„é‡è¦ä¸€ç¯ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œæœ‰å¤šèµ·åŒºå—é“¾æ”»å‡»è¡Œä¸ºä¸åŒºå—é“¾ç”Ÿæˆç®—æ³•æœ‰ç¼ºé™·æœ‰å…³ï¼‰ï¼Œå¯¹éšæœºæ•°çš„å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜æ—¶ï¼Œå°±è¦æ±‚è¾¾åˆ°å¯†ç å­¦å®‰å…¨çš„ä¼ªéšæœºæ•°ç”šè‡³çœŸéšæœºæ•°ï¼Œåœ¨javaä¸­ï¼Œæœ‰ä¸€äº›æä¾›å®‰å…¨éšæœºæ•°ç”Ÿæˆç®—æ³•çš„ç±»ï¼Œä¾‹å¦‚<code>org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom</code>ï¼Œåœ¨Tomcat7/8ä¸­ï¼Œå°±ä½¿ç”¨äº†è¿™ä¸ªç±»ç”¨æ¥äº§ç”Ÿseesion idï¼Œè¿™ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªç§å­ç”Ÿæˆå™¨ï¼Œä»–ä¼šæ ¹æ®é…ç½®æ¥è·å–éšæœºç§å­ï¼Œåœ¨Tomcatä¸­ï¼Œä¼šé»˜è®¤ä½¿ç”¨<code>/dev/random</code>è¿”å›çš„å­—ç¬¦æ¥ä½œä¸ºç§å­ï¼Œè¿™ä¸ª<code>/dev/random </code>å°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ã€‚</p>
<h2 id="linuxä¸­çš„ç†µæ± ">Linuxä¸­çš„ç†µæ± </h2>
<p><code>/dev/random</code>æ˜¯Linuxä¸­çš„ä¸€ä¸ªçœŸéšæœºæ•°ç”Ÿæˆå™¨ï¼Œè¿™ä¸ªç”Ÿæˆå™¨ç»´æŠ¤äº†ä¸€ä¸ªç†µæ± ï¼ŒRandomæ–¹æ³•ä¼šä»ç†µæ± ä¸­å–å‡ºå­—ç¬¦ä¸²ä½œä¸ºç§å­æ¥äº§ç”Ÿéšæœºæ•°ï¼Œæˆ‘ä»¬çš„ç†µçš„å¤§éƒ¨åˆ†æ¥äºé”®ç›˜ã€é¼ æ ‡å’Œç£ç›˜ IO æ•°æ®è¿™æ ·çš„ç¯å¢ƒå™ªå£°ï¼Œè¿™äº›è®¡ç®—æœºæ´»åŠ¨æ‰€äº§ç”Ÿçš„ç†µä¼šå¸®åŠ©éšæœºæ•°ç”Ÿæˆï¼Œåœ¨ç”ŸæˆGPGç§˜é’¥çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹æç¤ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">We need to generate a lot of random bytes. It is a good idea to perform
some other action <span class="o">(</span><span class="nb">type</span> on the keyboard, move the mouse, utilize the
disks<span class="o">)</span> during the prime generation<span class="p">;</span> this gives the random number
generator a better chance to gain enough entropy.
++++++++++..+++++.+++++++++++++++.++++++++++...+++++++++++++++...++++++
+++++++++++++++++++++++++++++.+++++..+++++.+++++.+++++++++++++++++++++++++&gt;.
++++++++++&gt;+++++...........................................................+++++
Not enough random bytes available. Please <span class="k">do</span> some other work to give
the OS a chance to collect more entropy! <span class="o">(</span>Need <span class="m">290</span> more bytes<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯å‡å¦‚æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæˆ‘ä»¬æ²¡æœ‰é¼ æ ‡å’Œé”®ç›˜è¾“å…¥ã€‚è¿™æ„å‘³ç€å”¯ä¸€çš„å› ç´ æ˜¯ä½ çš„ç£ç›˜IOã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„ã€å‡ ä¹ä¸ä½¿ç”¨çš„ç£ç›˜ï¼Œä½ å°†æ‹¥æœ‰è¾ƒä½çš„ç†µã€‚å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯<code>/dev/random</code>æ˜¯é˜»å¡çš„ï¼Œå½“ä½ é¢‘ç¹ç”Ÿæˆéšæœºæ•°çš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šè€—å…‰ä½ çš„ç†µæ± ï¼Œ<code>/dev/random</code> ä¼šç­‰å¾…ç†µæ± æ”¶é›†åˆ°è¶³å¤Ÿçš„ç¯å¢ƒå™ªå£°çš„æ—¶å€™æ‰ä¼šç»§ç»­ç”Ÿæˆéšæœºæ•°ï¼Œè¿™å¯èƒ½å¯¼è‡´ä½ çš„è¿›ç¨‹è¢«é•¿æ—¶é—´çš„æŒ‚èµ·ã€‚åœ¨java å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šé‡åˆ°ä¸€äº›åº”ç”¨å¯åŠ¨æ—¶é—´è¿‡é•¿çš„é—®é¢˜ï¼Œå°±å¯èƒ½æ˜¯ç†µæ± ç©ºäº†å¯¼è‡´çº¿ç¨‹é˜»å¡äº†ã€‚</p>
<p>å¹¸å¥½Linuxç»™æˆ‘ä»¬æä¾›äº†å¦å¤–ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<code>/dev/unrandom</code>,è¿™æ˜¯ä¸€ä¸ªä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œåœ¨ç¼ºä¹ç†µçš„æ—¶å€™ï¼Œä»–ä¼šå¤ç”¨ç†µæ± ä¸­çš„å†…å®¹è€Œä¸ä¼šå¯¼è‡´é˜»å¡ï¼Œä½†æ˜¯å¤ç”¨ç†µæ± ä¼šå¯¼è‡´å®‰å…¨æ€§ä¸‹é™ï¼Œä½†æ˜¯åœ¨å®‰å…¨æ€§ä¸å¼ºçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿™ä¸ªï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>-Djava.security.egd=file:/dev/./urandom</code>è¿™ä¸ªjavaå¯åŠ¨å‚æ•°ï¼Œæ¥ç¡®ä¿æˆ‘ä»¬ç”Ÿæˆéšæœºæ•°çš„è¿‡ç¨‹ä¸è¢«é˜»å¡ï¼Œè¿™ä¹Ÿå›ç­”äº†æˆ‘ä»¬å¼€å¤´é‚£ä¸ªé—®é¢˜ï¼Œ<code>java.security.egd</code>æ˜¯<code>org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom</code>çš„é…ç½®ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ç”¨ä¸€äº›æ–¹æ³•æ¥å½±å“ç†µæ± </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ cat /proc/sys/kernel/random/poolsize
<span class="m">4096</span>
$ cat /proc/sys/kernel/random/entropy_avail
<span class="m">2975</span>
</code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç†µæ± çš„å¤§å°å’Œç†µæ± å†…æœ‰å¤šå°‘ç†µ</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•æ¥å°†ç†µæ± è€—å°½ï¼Œæ¯”å¦‚å°†å°†/dev/random å®šå‘åˆ°/dev/nullä¸­</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ cat /dev/random &gt; /dev/null <span class="p">&amp;</span>
</code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ä¼šå¿«é€Ÿçš„å°†ç†µæ± è€—å°½</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³å¡«å……ç†µæ± å‘¢ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯å°†å¤„ç†å™¨çš„æŠ–åŠ¨åŠ å…¥ç†µæ± ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…<code>Haveged</code>æ¥å®ç°è¿™ä¸€åŠŸèƒ½</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo pacman -S Hacedged
$ systemctl <span class="nb">enable</span> haveged
$ systemctl start haveged
</code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>pv</code>å‘½ä»¤æ¥è§‚å¯Ÿç†µæ± çš„å¢é•¿é€Ÿåº¦</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># å¯ç”¨å‰</span>
$ pv /dev/random &gt; /dev/null 
25.0 B 0:00:03 <span class="o">[</span>0.00 B/s<span class="o">]</span> <span class="o">[</span> &lt;<span class="o">=</span>&gt;

<span class="c1"># å¯ç”¨å</span>
$ pv /dev/random &gt; /dev/null               
62MiB 0:00:03 <span class="o">[</span> 564KiB/s<span class="o">]</span> <span class="o">[</span>  &lt;<span class="o">=</span>&gt;  

</code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥è§‚å¯Ÿåˆ°ä»å‡ ä¹ä¸º0å¢é•¿åˆ°äº†564kiB/s</p>
<p>å‚è€ƒï¼š<br>
<a href="https://linux.cn/article-9697-1.html" target="_blank" rel="noopener noreffer">James J - /dev/[u]randomï¼šå¯¹ç†µçš„è§£é‡Š</a><br>
<a href="https://blog.csdn.net/chszs/article/details/49494701" target="_blank" rel="noopener noreffer">chszs - Tomcat 8ç†µæ± é˜»å¡å˜æ…¢è¯¦è§£</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2018-05-28</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/index.md" target="_blank">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" data-title="ç†µä¸éšæœºæ•°" data-hashtags="Linux,å¯†ç å­¦"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" data-title="ç†µä¸éšæœºæ•°"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" data-title="ç†µä¸éšæœºæ•°" data-ralateuid="1910759497"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° ç™¾åº¦" data-sharer="baidu" data-url="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" data-title="ç†µä¸éšæœºæ•°"><i data-svg-src="/lib/simple-icons/icons/baidu.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Evernote" data-sharer="evernote" data-url="https://radish.cloud/posts/%E7%86%B5%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/" data-title="ç†µä¸éšæœºæ•°"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/linux/">Linux</a>,&nbsp;<a href="/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/">å¯†ç å­¦</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/posts/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E8%AF%91jdk/" class="next" rel="next" title="ä¸€æ¬¡å¤±è´¥çš„jdkç¼–è¯‘">ä¸€æ¬¡å¤±è´¥çš„jdkç¼–è¯‘<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments" style="padding: 2rem 0 2rem!important;"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        
        <div class="footer-container">
        
            <div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">èåœç‚–é±¼ä¸¸</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp"><a href='https://beian.miit.gov.cn/'>è’™ICPå¤‡14003205å·</a></span></div><div class="footer-line">ç«™ç‚¹éƒ¨ç½²äº<b><a href="//pages.github.com">GIthub Pages</a></b>ï¼Œç”±<b><a href="//cloudflare.com">Cloudflare</b></b>æä¾›åŠ é€Ÿ</div><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.83.1">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div></br>
            
        </div>
        
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript" src="/js/tata.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"blog_comment","lightTheme":"github-light","repo":"Lairdkin/blog"}},"cookieconsent":{"content":{"dismiss":"åŒæ„","link":"äº†è§£æ›´å¤š","message":"æœ¬ç½‘ç«™ä½¿ç”¨ Cookies æ¥æ”¹å–„æ‚¨çš„æµè§ˆä½“éªŒ."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script src="./foo.js"></script>


<script type="module">
    import { Workbox } from './workbox-window.prod.mjs'

    console.log("loading Customer Javascript file...")

    let flag = false;

    function createUIPrompt(opts) {
        tata.info("æ£€æµ‹åˆ°æ–°çš„æ›´æ–°", "<a id='update' href='#'>ç‚¹å‡»æ­¤å¤„è¿›è¡Œæ›´æ–°<a>", {
            position: "bm",
            duration: 8000,
            animate:"slide"

        })
        document.getElementById("update").addEventListener("click", () => {
            flag = true
            if (flag) {
                opts.onAccept();
                tata.success('æ›´æ–°æˆåŠŸ', 'é¡µé¢å³å°†åˆ·æ–°', {
                    holding: true,
                    position: "bm"
                })
            }
        })
    }

    if ('serviceWorker' in navigator) {
        const wb = new Workbox('/sw.js');
        let registration;

        const showSkipWaitingPrompt = (event) => {
            
            
            
            
            

            
            
            const prompt = createUIPrompt({
                onAccept: () => {
                    
                    
                    
                    wb.addEventListener('controlling', (event) => {
                        window.location.reload();
                    });

                    wb.messageSkipWaiting();
                },

                onReject: () => {
                    prompt.dismiss();
                }
            });
        };

        
        
        wb.addEventListener('waiting', showSkipWaitingPrompt);

        wb.register();
    }
</script></body>
</html>
